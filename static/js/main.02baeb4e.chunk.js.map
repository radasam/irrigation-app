{"version":3,"sources":["App.js","index.js"],"names":["App","pump","console","log","body","axios","post","crossdomain","then","res","err","this","drawsensorcharts","drawpumpcharts","duration","sensor","sensorid","sensordata","data","records","forEach","record","push","Date","datetime","reading","drawchartsensor","GoogleCharts","load","api","visualization","arrayToDataTable","options","title","vAxis","viewWindow","max","min","LineChart","document","getElementById","draw","pumpid","pumpdata","value","drawchartpump","Navbar","bg","Brand","className","id","Button","onClick","e","startpump","burst","stoppump","readsensor","React","Component","ReactDOM","render"],"mappings":"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","file":"static/js/main.02baeb4e.chunk.js","sourcesContent":["import React from 'react';\nimport './App.css';\nimport axios from 'axios';\nimport {GoogleCharts} from 'google-charts'\n\nimport Navbar from 'react-bootstrap/Navbar'\nimport {Button} from 'react-bootstrap'\n\n\nclass App extends React.Component{\n\tstartpump(pump){\n\t\tconsole.log('starting pump')\n\t\tvar body = {pump:pump}\n\t\taxios.post('http://192.168.1.88:4000/start', body, {crossdomain:true}).then((res) =>{\n\t\t\tconsole.log(res)\n\t\t}, (err) => {\n\t\t\tconsole.log(err)\n\t\t});\n\t}\n\tcomponentDidMount(){\n\n\n\t\tthis.drawsensorcharts()\n\t\tthis.drawpumpcharts()\n\t}\n\tburst(pump, duration){\n\t\tconsole.log('starting pump')\n\t\tvar body = {pump:pump,duration:duration}\n\t\taxios.post('https://4e7b872a.ngrok.io/burst', body, {crossdomain:true}).then((res) =>{\n\t\t\tconsole.log(res)\n\t\t}, (err) => {\n\t\t\tconsole.log(err)\n\t\t});\n\t}\n\tstoppump(pump){\n\t\tconsole.log('stopping pump')\n\t\tvar body = {pump:pump}\n\t\taxios.post('http://192.168.1.88:4000/stop', body, {crossdomain:true}).then((res) =>{\n\t\t\tconsole.log(res)\n\t\t}, (err) => {\n\t\t\tconsole.log(err)\n\t\t});\n\t}\n\treadsensor(sensor){\n\t\tvar body = {sensor:sensor}\n\t\taxios.post('http://192.168.1.88:4000/test', body, {crossdomain:true}).then((res) =>{\n\t\t\tconsole.log(res)\n\t\t}, (err) => {\n\t\t\tconsole.log(err)\n\t\t});\n\t}\n\tdrawsensorcharts(){\n\n\t\t\taxios.post('http://192.168.1.88:4000/fetchsensor', {sensorid:1}, {crossdomain:true}).then((res) =>{\n\t\t\t\tvar sensordata =[['Time', 'Reading']]\n\n\t\t\t\tres.data.records.forEach(record => sensordata.push([new Date(record.datetime), record.reading]))\n\t\t\t\tthis.drawchartsensor(sensordata, 1)\n\t\t\t}, (err) => {\n\t\t\t\tconsole.log(err)\n\t\t\t}).then(axios.post('http://192.168.1.88:4000/fetchsensor', {sensorid:2}, {crossdomain:true}).then((res) =>{\n\t\t\t\tvar sensordata =[['Time', 'Reading']]\n\n\t\t\t\tres.data.records.forEach(record => sensordata.push([new Date(record.datetime), record.reading]))\n\t\t\t\tthis.drawchartsensor(sensordata, 2)\n\t\t\t}, (err) => {\n\t\t\t\tconsole.log(err)\n\t\t\t}).then(axios.post('http://192.168.1.88:4000/fetchsensor', {sensorid:3}, {crossdomain:true}).then((res) =>{\n\t\t\t\tvar sensordata =[['Time', 'Reading']]\n\n\t\t\t\tres.data.records.forEach(record => sensordata.push([new Date(record.datetime), record.reading]))\n\t\t\t\tthis.drawchartsensor(sensordata, 3)\n\t\t\t}, (err) => {\n\t\t\t\tconsole.log(err)\n\t\t\t}).then(axios.post('http://192.168.1.88:4000/fetchsensor', {sensorid:4}, {crossdomain:true}).then((res) =>{\n\t\t\t\tvar sensordata =[['Time', 'Reading']]\n\n\t\t\t\tres.data.records.forEach(record => sensordata.push([new Date(record.datetime), record.reading]))\n\t\t\t\tthis.drawchartsensor(sensordata, 4)\n\t\t\t}, (err) => {\n\t\t\t\tconsole.log(err)\n\t\t\t}))));\t\t\n\t\t\t\n\t}\n\tdrawchartsensor(sensordata, sensorid){\n\t\n\t\tGoogleCharts.load(drawChart);\n\n\t\tfunction drawChart() {\n\n\t\tconst data = GoogleCharts.api.visualization.arrayToDataTable(sensordata);\n\n\t\tvar options = {\n\t\t\ttitle: 'Pump ' + sensorid + ' Moisture Reading',\n\t\t\tvAxis:{\n\t\t\t\tviewWindow:{\n\t\t\t\t\tmax:15000,\t\t\t\t\n\t\t\t\t\tmin:10000\n\t\t\t\t}\t\t\n\t\t\t}\t\t\n\t\t}\n\n\t\tconst linechart = new GoogleCharts.api.visualization.LineChart(document.getElementById('sensor' + sensorid + 'chart'))\n\t\n\t\tlinechart.draw(data, options)\n\n\t\t}\n\n\t}\n\tdrawpumpcharts(){\n\n\t\t\taxios.post('http://192.168.1.88:4000/fetchpump', {pumpid:1}, {crossdomain:true}).then((res) =>{\n\t\t\t\tvar pumpdata =[['Time', 'ON/OFF']]\n\n\t\t\t\tres.data.records.forEach(record => pumpdata.push([new Date(record.datetime), record.value]))\n\t\t\t\tthis.drawchartpump(pumpdata, 1)\n\n\t\t\t\tconsole.log(res.data.records)\n\t\t\t}, (err) => {\n\t\t\t\tconsole.log(err)\n\t\t\t}).then(axios.post('http://192.168.1.88:4000/fetchpump', {pumpid:2}, {crossdomain:true}).then((res) =>{\n\t\t\t\tvar pumpdata =[['Time', 'ON/OFF']]\n\n\t\t\t\tres.data.records.forEach(record => pumpdata.push([new Date(record.datetime), record.value]))\n\t\t\t\tthis.drawchartpump(pumpdata, 2)\n\t\t\t}, (err) => {\n\t\t\t\tconsole.log(err)\n\t\t\t}).then(axios.post('http://192.168.1.88:4000/fetchpump', {pumpid:3}, {crossdomain:true}).then((res) =>{\n\t\t\t\tvar pumpdata =[['Time', 'ON/OFF']]\n\n\t\t\t\tres.data.records.forEach(record => pumpdata.push([new Date(record.datetime), record.value]))\n\t\t\t\tthis.drawchartpump(pumpdata, 3)\n\t\t\t}, (err) => {\n\t\t\t\tconsole.log(err)\n\t\t\t}).then(axios.post('http://192.168.1.88:4000/fetchpump', {pumpid:4}, {crossdomain:true}).then((res) =>{\n\t\t\t\tvar pumpdata =[['Time', 'ON/OFF']]\n\n\t\t\t\tres.data.records.forEach(record => pumpdata.push([new Date(record.datetime), record.value]))\n\t\t\t\tthis.drawchartpump(pumpdata, 4)\n\t\t\t}, (err) => {\n\t\t\t\tconsole.log(err)\n\t\t\t}))));\t\t\n\t\t\t\n\t}\n\tdrawchartpump(pumpdata, pumpid){\n\t\n\t\tGoogleCharts.load(drawChart);\n\n\t\tfunction drawChart() {\n\n\t\tconst data = GoogleCharts.api.visualization.arrayToDataTable(pumpdata);\n\n\t\tvar options = {\n\t\t\ttitle: 'Pump ' + pumpid + ' Activity',\n\t\t\tvAxis:{\n\t\t\t\tviewWindow:{\n\t\t\t\t\tmax:2,\t\t\t\t\n\t\t\t\t\tmin:-1\n\t\t\t\t}\t\t\n\t\t\t}\t\t\n\t\t}\n\n\t\tconst linechart = new GoogleCharts.api.visualization.LineChart(document.getElementById('pump' + pumpid + 'chart'))\n\t\n\t\tlinechart.draw(data, options)\n\n\t\t}\n\n\t}\n\trender(){\n\t  return (\n\t\t<div>\n\t\t\t<Navbar bg=\"light\">\n\t\t\t\t<Navbar.Brand>Home</Navbar.Brand>\n\t\t\t</Navbar>\n\t\t\t<br></br>\n\t\t\t<div className=\"pumprow\">\n\t\t\t\t<div className=\"heading\">Pump 1</div>\n\t\t\t\t<br></br>\n\t\t\t\t<div id=\"sensor1chart\"></div>\n\t\t\t\t<div id=\"pump1chart\"></div>\n\t\t\t\t<br></br>\n\t\t\t\t<div className=\"buttonrow\">\n\t\t\t\t\t<Button onClick={(e) => this.startpump(1)}>Start</Button>\n\t\t\t\t\t<Button onClick={(e) => this.burst(1,1)}>Run 1 Seconds</Button>\n\t\t\t\t\t<Button onClick={(e) => this.stoppump(1)}>Stop</Button>\n\t\t\t\t\t<Button onClick={(e) => this.readsensor(1)}>Sensor</Button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<br></br>\n\t\t\t<div className=\"pumprow\">\n\t\t\t\t<div className=\"heading\">Pump 2</div>\n\t\t\t\t<br></br>\n\t\t\t\t<div id=\"sensor2chart\"></div>\n\t\t\t\t<div id=\"pump2chart\"></div>\n\t\t\t\t<br></br>\n\t\t\t\t<div className=\"buttonrow\">\n\t\t\t\t\t<Button onClick={(e) => this.startpump(2)}>Start</Button>\n\t\t\t\t\t<Button onClick={(e) => this.burst(2,1)}>Run 1 Seconds</Button>\n\t\t\t\t\t<Button onClick={(e) => this.stoppump(2)}>Stop</Button>\n\t\t\t\t\t<Button onClick={(e) => this.readsensor(2)}>Sensor</Button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<br></br>\n\t\t\t<div className=\"pumprow\">\n\t\t\t\t<div className=\"heading\">Pump 3</div>\n\t\t\t\t<br></br>\n\t\t\t\t<div id=\"sensor3chart\"></div>\n\t\t\t\t<div id=\"pump3chart\"></div>\n\t\t\t\t<br></br>\n\t\t\t\t<div className=\"buttonrow\">\n\t\t\t\t\t<Button onClick={(e) => this.startpump(3)}>Start</Button>\n\t\t\t\t\t<Button onClick={(e) => this.burst(3,1)}>Run 1 Seconds</Button>\n\t\t\t\t\t<Button onClick={(e) => this.stoppump(3)}>Stop</Button>\n\t\t\t\t\t<Button onClick={(e) => this.readsensor(3)}>Sensor</Button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<br></br>\n\t\t\t<div className=\"pumprow\">\n\t\t\t\t<div className=\"heading\">Pump 4</div>\n\t\t\t\t<br></br>\n\t\t\t\t<div id=\"sensor4chart\"></div>\n\t\t\t\t<div id=\"pump4chart\"></div>\n\t\t\t\t<br></br>\n\t\t\t\t<div className=\"buttonrow\">\n\t\t\t\t\t<Button onClick={(e) => this.startpump(4)}>Start</Button>\n\t\t\t\t\t<Button onClick={(e) => this.burst(4,1)}>Run 1 Seconds</Button>\n\t\t\t\t\t<Button onClick={(e) => this.stoppump(4)}>Stop</Button>\n\t\t\t\t\t<Button onClick={(e) => this.readsensor(4)}>Sensor</Button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t  );\n\t}\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport '../node_modules/bootstrap/dist/css/bootstrap.min.css'\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}