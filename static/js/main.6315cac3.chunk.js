(this["webpackJsonpwater-front-end"]=this["webpackJsonpwater-front-end"]||[]).push([[0],{41:function(e,t,n){},53:function(e,t,n){e.exports=n(80)},58:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(13),c=n.n(r),l=(n(58),n(59),n(16)),s=n(15),u=n(24),i=n(22),m=n(25),d=(n(41),n(39)),p=n(38),g=n(9),h=n(10),v=n.n(h),E=n(28),f=n(6),k=n(7),b=n(27),y=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(i.a)(t).call(this,e))).handleSubmit=n.handleSubmit.bind(Object(g.a)(n)),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"handleSubmit",value:function(){this.props.submit(document.getElementById("postpass_m").value),this.props.toggleModal()}},{key:"render",value:function(){return o.a.createElement(b.a,{show:this.props.show,onHide:this.props.toggleModal},o.a.createElement(b.a.Header,{closeButton:!0},o.a.createElement(b.a.Title,null,"Post Password")),o.a.createElement(b.a.Body,null,o.a.createElement(k.a,null,o.a.createElement(k.a.Group,{controlId:"postpass_m"},o.a.createElement(k.a.Label,null,"Post Password"),o.a.createElement(k.a.Control,{type:"text"})))),o.a.createElement(b.a.Footer,null,o.a.createElement(f.a,{onClick:this.handleSubmit},"Submit")))}}]),t}(o.a.Component),w=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(i.a)(t).call(this,e))).state={showModal:!1,postPass:""},n.toggleModal=n.toggleModal.bind(Object(g.a)(n)),n.setPostPassword=n.setPostPassword.bind(Object(g.a)(n)),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"toggleModal",value:function(){this.state.showModal?this.setState({showModal:!1}):this.setState({showModal:!0})}},{key:"setPostPassword",value:function(e){this.setState({postPass:e}),console.log(this.state.postPass)}},{key:"startpump",value:function(e){var t="https://4e7b872a.ngrok.io";""!==document.getElementById("ngrokovrd").value&&"orange1234"==document.getElementById("ngroksecret").value&&(t=document.getElementById("ngrokovrd").value),console.log("starting pump");var n={pump:e,pass:document.getElementById("postpass").value};v.a.post(t+"/start",n,{crossdomain:!0}).then((function(e){console.log(e)}),(function(e){console.log(e)}))}},{key:"componentDidMount",value:function(){this.drawsensorcharts(),this.drawpumpcharts()}},{key:"burst",value:function(e,t){var n="https://4e7b872a.ngrok.io";""!==document.getElementById("ngrokovrd").value&&"orange1234"==document.getElementById("ngroksecret").value&&(n=document.getElementById("ngrokovrd").value),console.log("starting pump");var a={pump:e,duration:t,pass:document.getElementById("postpass").value};v.a.post(n+"/burst",a,{crossdomain:!0}).then((function(e){console.log(e)}),(function(e){console.log(e)}))}},{key:"stoppump",value:function(e){var t="https://4e7b872a.ngrok.io";""!==document.getElementById("ngrokovrd").value&&"orange1234"==document.getElementById("ngroksecret").value&&(t=document.getElementById("ngrokovrd").value),console.log("stopping pump");var n={pump:e,pass:document.getElementById("postpass").value};v.a.post(t+"/stop",n,{crossdomain:!0}).then((function(e){console.log(e)}),(function(e){console.log(e)}))}},{key:"readsensor",value:function(e){this.toggleModal();var t="https://4e7b872a.ngrok.io";""!==document.getElementById("ngrokovrd").value&&"orange1234"==document.getElementById("ngroksecret").value&&(t=document.getElementById("ngrokovrd").value);var n={sensor:e,pass:document.getElementById("postpass").value};v.a.post(t+"/sensor",n,{crossdomain:!0}).then((function(e){console.log(e)}),(function(e){console.log(e)}))}},{key:"drawsensorcharts",value:function(){var e=this,t="https://4e7b872a.ngrok.io";""!==document.getElementById("ngrokovrd").value&&"orange1234"==document.getElementById("ngroksecret").value&&(t=document.getElementById("ngrokovrd").value),v.a.post(t+"/fetchsensor",{sensorid:1},{crossdomain:!0}).then((function(t){var n=[["Time","Reading"]];t.data.records.forEach((function(e){return n.push([new Date(e.datetime),e.reading])})),e.drawchartsensor(n,1)}),(function(e){console.log(e)})).then(v.a.post(t+"/fetchsensor",{sensorid:2},{crossdomain:!0}).then((function(t){var n=[["Time","Reading"]];t.data.records.forEach((function(e){return n.push([new Date(e.datetime),e.reading])})),e.drawchartsensor(n,2)}),(function(e){console.log(e)})).then(v.a.post(t+"/fetchsensor",{sensorid:3},{crossdomain:!0}).then((function(t){var n=[["Time","Reading"]];t.data.records.forEach((function(e){return n.push([new Date(e.datetime),e.reading])})),e.drawchartsensor(n,3)}),(function(e){console.log(e)})).then(v.a.post(t+"/fetchsensor",{sensorid:4},{crossdomain:!0}).then((function(t){var n=[["Time","Reading"]];t.data.records.forEach((function(e){return n.push([new Date(e.datetime),e.reading])})),e.drawchartsensor(n,4)}),(function(e){console.log(e)})))))}},{key:"drawchartsensor",value:function(e,t){E.a.load((function(){var n=E.a.api.visualization.arrayToDataTable(e),a={title:"Pump "+t+" Moisture Reading",vAxis:{viewWindow:{max:15e3,min:1e4}}};new E.a.api.visualization.LineChart(document.getElementById("sensor"+t+"chart")).draw(n,a)}))}},{key:"drawpumpcharts",value:function(){var e=this,t="https://4e7b872a.ngrok.io";""!==document.getElementById("ngrokovrd").value&&"orange1234"==document.getElementById("ngroksecret").value&&(t=document.getElementById("ngrokovrd").value),v.a.post(t+"/fetchpump",{pumpid:1},{crossdomain:!0}).then((function(t){var n=[["Time","ON/OFF"]];t.data.records.forEach((function(e){return n.push([new Date(e.datetime),e.value])})),e.drawchartpump(n,1),console.log(t.data.records)}),(function(e){console.log(e)})).then(v.a.post(t+"/fetchpump",{pumpid:2},{crossdomain:!0}).then((function(t){var n=[["Time","ON/OFF"]];t.data.records.forEach((function(e){return n.push([new Date(e.datetime),e.value])})),e.drawchartpump(n,2)}),(function(e){console.log(e)})).then(v.a.post(t+"/fetchpump",{pumpid:3},{crossdomain:!0}).then((function(t){var n=[["Time","ON/OFF"]];t.data.records.forEach((function(e){return n.push([new Date(e.datetime),e.value])})),e.drawchartpump(n,3)}),(function(e){console.log(e)})).then(v.a.post(t+"/fetchpump",{pumpid:4},{crossdomain:!0}).then((function(t){var n=[["Time","ON/OFF"]];t.data.records.forEach((function(e){return n.push([new Date(e.datetime),e.value])})),e.drawchartpump(n,4)}),(function(e){console.log(e)})))))}},{key:"drawchartpump",value:function(e,t){E.a.load((function(){var n=E.a.api.visualization.arrayToDataTable(e),a={title:"Pump "+t+" Activity",vAxis:{viewWindow:{max:2,min:-1}}};new E.a.api.visualization.LineChart(document.getElementById("pump"+t+"chart")).draw(n,a)}))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("div",{className:"settings"},o.a.createElement(k.a,null,o.a.createElement(k.a.Group,{controlId:"postpass"},o.a.createElement(k.a.Label,null,"Post Password"),o.a.createElement(k.a.Control,{type:"text"})))),o.a.createElement("br",null),o.a.createElement("div",{className:"pumprow"},o.a.createElement("div",{className:"heading"},"Pump 1"),o.a.createElement("br",null),o.a.createElement("div",{id:"sensor1chart"}),o.a.createElement("div",{id:"pump1chart"}),o.a.createElement("br",null),o.a.createElement("div",{className:"buttonrow"},o.a.createElement(f.a,{onClick:function(t){return e.startpump(1)}},"Start"),o.a.createElement(f.a,{onClick:function(t){return e.burst(1,1)}},"Run 1 Seconds"),o.a.createElement(f.a,{onClick:function(t){return e.stoppump(1)}},"Stop"),o.a.createElement(f.a,{onClick:function(t){return e.readsensor(1)}},"Sensor"))),o.a.createElement("br",null),o.a.createElement("div",{className:"pumprow"},o.a.createElement("div",{className:"heading"},"Pump 2"),o.a.createElement("br",null),o.a.createElement("div",{id:"sensor2chart"}),o.a.createElement("div",{id:"pump2chart"}),o.a.createElement("br",null),o.a.createElement("div",{className:"buttonrow"},o.a.createElement(f.a,{onClick:function(t){return e.startpump(2)}},"Start"),o.a.createElement(f.a,{onClick:function(t){return e.burst(2,1)}},"Run 1 Seconds"),o.a.createElement(f.a,{onClick:function(t){return e.stoppump(2)}},"Stop"),o.a.createElement(f.a,{onClick:function(t){return e.readsensor(2)}},"Sensor"))),o.a.createElement("br",null),o.a.createElement("div",{className:"pumprow"},o.a.createElement("div",{className:"heading"},"Pump 3"),o.a.createElement("br",null),o.a.createElement("div",{id:"sensor3chart"}),o.a.createElement("div",{id:"pump3chart"}),o.a.createElement("br",null),o.a.createElement("div",{className:"buttonrow"},o.a.createElement(f.a,{onClick:function(t){return e.startpump(3)}},"Start"),o.a.createElement(f.a,{onClick:function(t){return e.burst(3,1)}},"Run 1 Seconds"),o.a.createElement(f.a,{onClick:function(t){return e.stoppump(3)}},"Stop"),o.a.createElement(f.a,{onClick:function(t){return e.readsensor(3)}},"Sensor"))),o.a.createElement("br",null),o.a.createElement("div",{className:"pumprow"},o.a.createElement("div",{className:"heading"},"Pump 4"),o.a.createElement("br",null),o.a.createElement("div",{id:"sensor4chart"}),o.a.createElement("div",{id:"pump4chart"}),o.a.createElement("br",null),o.a.createElement("div",{className:"buttonrow"},o.a.createElement(f.a,{onClick:function(t){return e.startpump(4)}},"Start"),o.a.createElement(f.a,{onClick:function(t){return e.burst(4,1)}},"Run 1 Seconds"),o.a.createElement(f.a,{onClick:function(t){return e.stoppump(4)}},"Stop"),o.a.createElement(f.a,{onClick:function(t){return e.readsensor(4)}},"Sensor"))),o.a.createElement(y,{submit:this.setPostPassword,show:this.state.showModal,toggleModal:this.toggleModal}))}}]),t}(o.a.Component),I=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(i.a)(t).call(this,e))).updateNgrok=n.updateNgrok.bind(Object(g.a)(n)),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"updateNgrok",value:function(){(document.getElementById("ngroksecret").value="orange1234")&&(localStorage.ngrok=document.getElementById("ngrokovrd").value)}},{key:"render",value:function(){return o.a.createElement("div",{className:"settings"},o.a.createElement(k.a,null,o.a.createElement(k.a.Group,{controlId:"ngroksecret"},o.a.createElement(k.a.Label,null,"Ngrok Secret"),o.a.createElement(k.a.Control,{type:"text"}))),o.a.createElement(k.a,null,o.a.createElement(k.a.Group,{controlId:"ngrokovrd"},o.a.createElement(k.a.Label,null,"Ngrok Override"),o.a.createElement(k.a.Control,{type:"text"}))),o.a.createElement(f.a,{onClick:this.updateNgrok},"Save"))}}]),t}(o.a.Component),B=function(e){function t(e){return Object(l.a)(this,t),Object(u.a)(this,Object(i.a)(t).call(this,e))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"gotoMainPage",value:function(){c.a.render(o.a.createElement(w,null),document.getElementById("mainbody"))}},{key:"gotoSettings",value:function(){c.a.render(o.a.createElement(I,null),document.getElementById("mainbody"))}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(d.a,{bg:"light"},o.a.createElement(d.a.Brand,{onClick:this.gotoMainPage},"Home"),o.a.createElement(p.a,{className:"mr-auto"},o.a.createElement(p.a.Link,{onClick:this.gotoSettings},"Settings"))),o.a.createElement("br",null),o.a.createElement("div",{id:"mainbody"}))}}]),t}(o.a.Component);c.a.render(o.a.createElement(B,null),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.6315cac3.chunk.js.map