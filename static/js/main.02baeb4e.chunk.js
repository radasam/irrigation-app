(this["webpackJsonpwater-front-end"]=this["webpackJsonpwater-front-end"]||[]).push([[0],{35:function(e,t,n){e.exports=n(63)},40:function(e,t,n){},42:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(12),c=n.n(o),i=(n(40),n(41),n(13)),s=n(10),u=n(32),l=n(28),m=n(33),p=(n(42),n(5)),d=n.n(p),h=n(8),f=n(16),E=n(66),v=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"startpump",value:function(e){console.log("starting pump");var t={pump:e};d.a.post("http://192.168.1.88:4000/start",t,{crossdomain:!0}).then((function(e){console.log(e)}),(function(e){console.log(e)}))}},{key:"componentDidMount",value:function(){this.drawsensorcharts(),this.drawpumpcharts()}},{key:"burst",value:function(e,t){console.log("starting pump");var n={pump:e,duration:t};d.a.post("https://4e7b872a.ngrok.io/burst",n,{crossdomain:!0}).then((function(e){console.log(e)}),(function(e){console.log(e)}))}},{key:"stoppump",value:function(e){console.log("stopping pump");var t={pump:e};d.a.post("http://192.168.1.88:4000/stop",t,{crossdomain:!0}).then((function(e){console.log(e)}),(function(e){console.log(e)}))}},{key:"readsensor",value:function(e){var t={sensor:e};d.a.post("http://192.168.1.88:4000/test",t,{crossdomain:!0}).then((function(e){console.log(e)}),(function(e){console.log(e)}))}},{key:"drawsensorcharts",value:function(){var e=this;d.a.post("http://192.168.1.88:4000/fetchsensor",{sensorid:1},{crossdomain:!0}).then((function(t){var n=[["Time","Reading"]];t.data.records.forEach((function(e){return n.push([new Date(e.datetime),e.reading])})),e.drawchartsensor(n,1)}),(function(e){console.log(e)})).then(d.a.post("http://192.168.1.88:4000/fetchsensor",{sensorid:2},{crossdomain:!0}).then((function(t){var n=[["Time","Reading"]];t.data.records.forEach((function(e){return n.push([new Date(e.datetime),e.reading])})),e.drawchartsensor(n,2)}),(function(e){console.log(e)})).then(d.a.post("http://192.168.1.88:4000/fetchsensor",{sensorid:3},{crossdomain:!0}).then((function(t){var n=[["Time","Reading"]];t.data.records.forEach((function(e){return n.push([new Date(e.datetime),e.reading])})),e.drawchartsensor(n,3)}),(function(e){console.log(e)})).then(d.a.post("http://192.168.1.88:4000/fetchsensor",{sensorid:4},{crossdomain:!0}).then((function(t){var n=[["Time","Reading"]];t.data.records.forEach((function(e){return n.push([new Date(e.datetime),e.reading])})),e.drawchartsensor(n,4)}),(function(e){console.log(e)})))))}},{key:"drawchartsensor",value:function(e,t){h.a.load((function(){var n=h.a.api.visualization.arrayToDataTable(e),a={title:"Pump "+t+" Moisture Reading",vAxis:{viewWindow:{max:15e3,min:1e4}}};new h.a.api.visualization.LineChart(document.getElementById("sensor"+t+"chart")).draw(n,a)}))}},{key:"drawpumpcharts",value:function(){var e=this;d.a.post("http://192.168.1.88:4000/fetchpump",{pumpid:1},{crossdomain:!0}).then((function(t){var n=[["Time","ON/OFF"]];t.data.records.forEach((function(e){return n.push([new Date(e.datetime),e.value])})),e.drawchartpump(n,1),console.log(t.data.records)}),(function(e){console.log(e)})).then(d.a.post("http://192.168.1.88:4000/fetchpump",{pumpid:2},{crossdomain:!0}).then((function(t){var n=[["Time","ON/OFF"]];t.data.records.forEach((function(e){return n.push([new Date(e.datetime),e.value])})),e.drawchartpump(n,2)}),(function(e){console.log(e)})).then(d.a.post("http://192.168.1.88:4000/fetchpump",{pumpid:3},{crossdomain:!0}).then((function(t){var n=[["Time","ON/OFF"]];t.data.records.forEach((function(e){return n.push([new Date(e.datetime),e.value])})),e.drawchartpump(n,3)}),(function(e){console.log(e)})).then(d.a.post("http://192.168.1.88:4000/fetchpump",{pumpid:4},{crossdomain:!0}).then((function(t){var n=[["Time","ON/OFF"]];t.data.records.forEach((function(e){return n.push([new Date(e.datetime),e.value])})),e.drawchartpump(n,4)}),(function(e){console.log(e)})))))}},{key:"drawchartpump",value:function(e,t){h.a.load((function(){var n=h.a.api.visualization.arrayToDataTable(e),a={title:"Pump "+t+" Activity",vAxis:{viewWindow:{max:2,min:-1}}};new h.a.api.visualization.LineChart(document.getElementById("pump"+t+"chart")).draw(n,a)}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(f.a,{bg:"light"},r.a.createElement(f.a.Brand,null,"Home")),r.a.createElement("br",null),r.a.createElement("div",{className:"pumprow"},r.a.createElement("div",{className:"heading"},"Pump 1"),r.a.createElement("br",null),r.a.createElement("div",{id:"sensor1chart"}),r.a.createElement("div",{id:"pump1chart"}),r.a.createElement("br",null),r.a.createElement("div",{className:"buttonrow"},r.a.createElement(E.a,{onClick:function(t){return e.startpump(1)}},"Start"),r.a.createElement(E.a,{onClick:function(t){return e.burst(1,1)}},"Run 1 Seconds"),r.a.createElement(E.a,{onClick:function(t){return e.stoppump(1)}},"Stop"),r.a.createElement(E.a,{onClick:function(t){return e.readsensor(1)}},"Sensor"))),r.a.createElement("br",null),r.a.createElement("div",{className:"pumprow"},r.a.createElement("div",{className:"heading"},"Pump 2"),r.a.createElement("br",null),r.a.createElement("div",{id:"sensor2chart"}),r.a.createElement("div",{id:"pump2chart"}),r.a.createElement("br",null),r.a.createElement("div",{className:"buttonrow"},r.a.createElement(E.a,{onClick:function(t){return e.startpump(2)}},"Start"),r.a.createElement(E.a,{onClick:function(t){return e.burst(2,1)}},"Run 1 Seconds"),r.a.createElement(E.a,{onClick:function(t){return e.stoppump(2)}},"Stop"),r.a.createElement(E.a,{onClick:function(t){return e.readsensor(2)}},"Sensor"))),r.a.createElement("br",null),r.a.createElement("div",{className:"pumprow"},r.a.createElement("div",{className:"heading"},"Pump 3"),r.a.createElement("br",null),r.a.createElement("div",{id:"sensor3chart"}),r.a.createElement("div",{id:"pump3chart"}),r.a.createElement("br",null),r.a.createElement("div",{className:"buttonrow"},r.a.createElement(E.a,{onClick:function(t){return e.startpump(3)}},"Start"),r.a.createElement(E.a,{onClick:function(t){return e.burst(3,1)}},"Run 1 Seconds"),r.a.createElement(E.a,{onClick:function(t){return e.stoppump(3)}},"Stop"),r.a.createElement(E.a,{onClick:function(t){return e.readsensor(3)}},"Sensor"))),r.a.createElement("br",null),r.a.createElement("div",{className:"pumprow"},r.a.createElement("div",{className:"heading"},"Pump 4"),r.a.createElement("br",null),r.a.createElement("div",{id:"sensor4chart"}),r.a.createElement("div",{id:"pump4chart"}),r.a.createElement("br",null),r.a.createElement("div",{className:"buttonrow"},r.a.createElement(E.a,{onClick:function(t){return e.startpump(4)}},"Start"),r.a.createElement(E.a,{onClick:function(t){return e.burst(4,1)}},"Run 1 Seconds"),r.a.createElement(E.a,{onClick:function(t){return e.stoppump(4)}},"Stop"),r.a.createElement(E.a,{onClick:function(t){return e.readsensor(4)}},"Sensor"))))}}]),t}(r.a.Component);c.a.render(r.a.createElement(v,null),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.02baeb4e.chunk.js.map